<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Try SD API</title>

    <!-- <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script> -->
  </head>

  <body>
    <button onclick="stableDfFunction()">Send hardcoded prompt</button>
    <script>

			const KEY = ""

			/*
				This function isn't working because it's a front end trying to read data
				from their API and browsers will automatically refuse to let that heppen
				because of CORS

				To get around this, if you really want to make the API request from the browser
				(which you probably do not), then you have to use a CORS proxy. See link below

				https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors
			*/
      function stableDfFunction() {
        fetch("https://stablediffusionapi.com/api/v3/text2img", {
          method: "POST",
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json",
          },
          body: {
            key: KEY,
            prompt:
              "ultra realistic close up portrait ((beautiful pale cyberpunk female with heavy black eyeliner)), blue eyes, shaved side haircut, hyper detail, cinematic lighting, magic neon, dark red city, Canon EOS R3, nikon, f/1.4, ISO 200, 1/160s, 8K, RAW, unedited, symmetrical balance, in-frame, 8K",
            negative_prompt:
              "((out of frame)), ((extra fingers)), mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), (((tiling))), ((naked)), ((tile)), ((fleshpile)), ((ugly)), (((abstract))), blurry, ((bad anatomy)), ((bad proportions)), ((extra limbs)), cloned face, (((skinny))), glitchy, ((extra breasts)), ((double torso)), ((extra arms)), ((extra hands)), ((mangled fingers)), ((missing breasts)), (missing lips), ((ugly face)), ((fat)), ((extra legs)), anime",
            width: "512",
            height: "512",
            samples: "1",
            num_inference_steps: "20",
          },
        })
          .then((response) => response.json())
          .then((response) => console.log(JSON.stringify(response)))
      }
    </script>
  </body>
</html>
